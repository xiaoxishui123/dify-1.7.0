# Difyé¡¹ç›®å¤‡ä»½ä½¿ç”¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ­¥ï¼šæµ‹è¯•å¤‡ä»½ç³»ç»Ÿ
```bash
cd /home/dify
./backup_scripts/test_backup.sh
```

### ç¬¬äºŒæ­¥ï¼šåˆ›å»ºç¬¬ä¸€ä¸ªå¤‡ä»½
```bash
# å®Œæ•´å¤‡ä»½ï¼ˆæ¨èï¼‰
./backup_scripts/backup.sh

# æˆ–è€…å¿«é€Ÿå¤‡ä»½
./backup_scripts/quick_backup.sh
```

### ç¬¬ä¸‰æ­¥ï¼šæŸ¥çœ‹å¤‡ä»½
```bash
./backup_scripts/manage_backups.sh list
```

## ğŸ“‹ å¸¸ç”¨å‘½ä»¤

### å¤‡ä»½æ“ä½œ
```bash
# å®Œæ•´å¤‡ä»½ï¼ˆåŒ…å«æ‰€æœ‰æ•°æ®ï¼‰
./backup_scripts/backup.sh

# å¿«é€Ÿå¤‡ä»½ï¼ˆåªå¤‡ä»½æ ¸å¿ƒæ•°æ®ï¼‰
./backup_scripts/quick_backup.sh
```

### æ¢å¤æ“ä½œ
```bash
# ä»å¤‡ä»½æ¢å¤ï¼ˆä¼šæç¤ºç¡®è®¤ï¼‰
./backup_scripts/restore.sh <å¤‡ä»½åç§°>
# ç¤ºä¾‹: ./backup_scripts/restore.sh dify_backup_20250725_143000
```

### ç®¡ç†æ“ä½œ
```bash
# æŸ¥çœ‹æ‰€æœ‰å¤‡ä»½
./backup_scripts/manage_backups.sh list

# æŸ¥çœ‹å¤‡ä»½è¯¦æƒ…
./backup_scripts/manage_backups.sh info <å¤‡ä»½åç§°>

# åˆ é™¤å¤‡ä»½
./backup_scripts/manage_backups.sh delete <å¤‡ä»½åç§°>

# æ¸…ç†æ—§å¤‡ä»½ï¼ˆä¿ç•™æœ€è¿‘5ä¸ªï¼‰
./backup_scripts/manage_backups.sh cleanup 5

# æŸ¥çœ‹å¤‡ä»½æ€»å¤§å°
./backup_scripts/manage_backups.sh size
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### å‡çº§å‰å¤‡ä»½
```bash
# åœ¨å‡çº§Difyå‰ï¼Œå…ˆåˆ›å»ºå®Œæ•´å¤‡ä»½
./backup_scripts/backup.sh
```

### ä¿®æ”¹ä»£ç å‰å¤‡ä»½
```bash
# åœ¨ä¿®æ”¹ä»£ç å‰ï¼Œåˆ›å»ºå¿«é€Ÿå¤‡ä»½
./backup_scripts/quick_backup.sh
```

### å®šæœŸå¤‡ä»½
```bash
# å¯ä»¥è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼Œæ¯å¤©è‡ªåŠ¨å¤‡ä»½
# ç¼–è¾‘crontab: crontab -e
# æ·»åŠ : 0 2 * * * /home/dify/backup_scripts/backup.sh
```

### æ•°æ®æ¢å¤
```bash
# å¦‚æœå‡ºç°é—®é¢˜ï¼Œä»å¤‡ä»½æ¢å¤
./backup_scripts/restore.sh dify_backup_20250725_143000
```

## âš ï¸ é‡è¦æé†’

### å¤‡ä»½å‰æ£€æŸ¥
- ç¡®ä¿DifyæœåŠ¡æ­£å¸¸è¿è¡Œ
- æ£€æŸ¥ç£ç›˜ç©ºé—´å……è¶³
- ç¡®ä¿æœ‰è¶³å¤Ÿæƒé™

### æ¢å¤å‰å‡†å¤‡
- æ¢å¤ä¼šè¦†ç›–å½“å‰æ•°æ®
- å»ºè®®å…ˆå¤‡ä»½å½“å‰æ•°æ®
- ç¡®è®¤æ¢å¤ç›®æ ‡æ­£ç¡®

### å®‰å…¨æ³¨æ„äº‹é¡¹
- å¤‡ä»½åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œè¯·å¦¥å–„ä¿ç®¡
- å®šæœŸæ¸…ç†è¿‡æœŸå¤‡ä»½
- å»ºè®®å°†é‡è¦å¤‡ä»½å¤åˆ¶åˆ°å…¶ä»–ä½ç½®

## ğŸ”§ æ•…éšœæ’é™¤

### å¤‡ä»½å¤±è´¥
```bash
# æ£€æŸ¥DockeræœåŠ¡çŠ¶æ€
cd /home/dify/docker
docker compose ps

# æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h /home/dify

# æŸ¥çœ‹å¤‡ä»½æ—¥å¿—
tail -f /home/dify/backups/backup_info.txt
```

### æ¢å¤å¤±è´¥
```bash
# æ£€æŸ¥å¤‡ä»½æ–‡ä»¶å®Œæ•´æ€§
./backup_scripts/manage_backups.sh info <å¤‡ä»½å>

# æ£€æŸ¥DockeræœåŠ¡
docker compose ps

# æŸ¥çœ‹æ¢å¤æ—¥å¿—
docker compose logs
```

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. æŸ¥çœ‹å¤‡ä»½æ—¥å¿—æ–‡ä»¶
2. æ£€æŸ¥DockeræœåŠ¡çŠ¶æ€
3. éªŒè¯å¤‡ä»½æ–‡ä»¶å®Œæ•´æ€§
4. å‚è€ƒè¯¦ç»†æ–‡æ¡£: `backup_scripts/README.md`

---

**åˆ›å»ºæ—¶é—´**: 2025å¹´7æœˆ25æ—¥  
**ç‰ˆæœ¬**: 1.0  
**ç»´æŠ¤è€…**: AIåŠ©æ‰‹ 